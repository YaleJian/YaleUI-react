{"version":3,"sources":["../../src/components/Input/Input.js"],"names":["Input","props","input","className","type","inputWidth","DomUtils","getTextLength","value","autoContent","Number","toString","width","state","passwordHide","placeholder","autoComplete","onChange","bind","onClick","onKeyDown","inputRef","inputWithIcon","icon","inputIcon","iconClick","numberInput","minus","numberMinus","plus","numberPlus","e","number","target","setState","onSearch","showContent","keyCode","cancel","maskTag","remove","preventDefault","stopPropagation","popUp","maskContent","document","getElementsByClassName","length","createElement","body","appendChild","content","select","popUpContentClass","selectIcon","ReactDOM","createPortal","isArray","Array","dropDownBoxData","selectContent","map","item","key","isObject","selectItemClick","id","text","selectData","passwordIcon","searchIcon","includes","React","Component","defaultProps"],"mappings":"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","file":"Input.js","sourcesContent":["import React from \"react\";\nimport \"./input.css\";\nimport {Icon} from \"..\";\nimport ReactDOM from \"react-dom\";\nimport {Button} from \"..\";\nimport {DomUtils} from \"..\";\n\nclass Input extends React.Component {\n    static defaultProps = {\n        type: \"text\",\n        value: \"\",\n        placeholder: \"\",\n        className: \"\",\n        icon: [],\n        autoComplete: \"off\",\n        autoContent : false,\n        dropDownBoxData: [],\n        selectIcon : true,\n        onChange: () => {\n        },\n        onSearch: () =>{\n        },\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            passwordHide: this.props.type === \"password\",\n            showContent: false,\n            selectData: \"\",\n        };\n        this.autoContent = this.props.autoContent || typeof this.props.autoContent === \"number\";\n    }\n\n    render() {\n        let type = this.props.type;\n        let className = this.props.className;\n        switch (type) {\n            case \"password\":\n                let passwordIcon = [\"\", <Icon name={this.state.passwordHide ? \"i-showPsw\" : \"i-hidePsw\"}/>];\n                return this.inputWithIcon(className + \" right\", passwordIcon);\n            case \"search\":\n                let searchIcon = className.includes(\"right\") ? [\"\", <Icon name=\"i-magnifier\"/>] : [<Icon\n                    name=\"i-magnifier\"/>];\n                return this.inputWithIcon(className, searchIcon);\n            case \"number\":\n                className += \" number\";\n                return this.numberInput(className);\n            case \"integer\":\n                className += \" integer\";\n                return this.numberInput(className);\n            case \"select\":\n                return this.popUp(className);\n            case \"popUp\":\n                return this.popUp(className);\n            case \"withIcon\":\n                return this.inputWithIcon(className, this.props.icon);\n            case \"textarea\":\n                return <textarea className={className} defaultValue={this.props.value}/>;\n            default:\n                return this.input(className);\n        }\n    }\n\n    //普通输入框\n    input = (className) => {\n        let type = this.props.type;\n        className = \"ya-input \" + this.props.type + \" \" + className;\n        //计算长度\n        let inputWidth = DomUtils.getTextLength(this.props.value) * this.props.autoContent;\n        //判断input值类型\n        let value = this.props.value;\n        value = type === \"number\" || type === \"integer\"  ? Number(value) : value.toString();\n        return <input className={className} style={this.autoContent ? {width : inputWidth ? inputWidth : 14} : null}\n                      type={this.state.passwordHide ? \"password\" : this.props.type}\n                      value={value}\n                      placeholder={this.props.placeholder}\n                      autoComplete={this.props.autoComplete}\n                      onChange={this.onChange.bind(this)}\n                      onClick={this.onClick.bind(this)}\n                      onKeyDown={this.onKeyDown.bind(this)}\n                      ref={inputRef => this.inputRef = inputRef}\n        />;\n    };\n\n    //带图标的输入框\n    inputWithIcon = (className, icon) => {\n        if (icon && icon[0]) className += \" left\";\n        if (icon && icon[1]) className += \" right\";\n        let inputIcon = (icon) => {\n            return <span className=\"inputIcon\" onClick={this.iconClick.bind(this)}>{icon}</span>\n        };\n        return <span className=\"inputGroup\" onClick={this.onClick.bind(this)}>\n            {icon[0] ? inputIcon(icon[0]) : null}\n            {this.input(className)}\n            {icon[1] ? inputIcon(icon[1]) : null}\n        </span>;\n    };\n\n    //数字输入框\n    numberInput = (className) => {\n        let minus = <Button className=\"white\" content={<Icon name=\"i-minus\"/>} onClick={this.numberMinus.bind(this)}/>;\n        let plus = <Button className=\"white\" content={<Icon name=\"i-plus\"/>} onClick={this.numberPlus.bind(this)}/>;\n        return this.inputWithIcon(className, [minus, plus]);\n    };\n    //数字增加\n    numberMinus = (e) => {\n        let number = Number(this.inputRef.value);\n        this.inputRef.value = number + 1;\n        this.props.onChange(e);\n    };\n    //数字减少\n    numberPlus = (e) => {\n        let number = Number(this.inputRef.value);\n        this.inputRef.value = number - 1;\n        this.props.onChange(e);\n    };\n\n    onChange = (e) => {\n        this.props.onChange(e.target.value, e);\n    };\n\n    iconClick = (e) => {\n        if (this.props.type === \"password\") this.setState({passwordHide: !this.state.passwordHide})\n        if (this.props.type === \"search\") {\n            this.props.onSearch(e);\n        }\n    };\n    onClick = (e) => {\n        if (this.props.type === \"popUp\" || this.props.type === \"select\") {\n            this.setState({showContent: !this.state.showContent});\n        }\n    };\n    onKeyDown = (e) =>{\n        if (e.keyCode === 13 && this.props.type === \"search\") {\n            this.props.onSearch(e);\n        }\n    };\n    cancel = (maskTag, e) => {\n        this.setState({showContent: false});\n        maskTag.remove();\n        e.preventDefault();\n        e.stopPropagation();\n    };\n\n\n    //自定义弹出输入框\n    popUp = (className) => {\n        let maskContent, maskTag;\n        if (this.state.showContent) {\n            //渲染模态层\n            maskTag = document.getElementsByClassName(\"ya-mask\");\n            if (maskTag.length === 0) {\n                //定义模态层渲染区\n                maskTag = document.createElement(\"div\");\n                maskTag.className = \"ya-mask\";\n                document.body.appendChild(maskTag);\n            } else {\n                maskTag = maskTag[0];\n            }\n            maskContent = <div className=\"ya-mask-content\" onClick={this.cancel.bind(this, maskTag)}/>;\n        }\n\n        let content = this.props.content;\n\n        //判断是否是选择框\n        if (this.props.type === \"select\") content = this.select(maskTag);\n\n        let popUpContentClass = \"ya-popUp-content animated fastest fadeInDownSmall\";\n\n        //右侧下拉标志\n        let icon = this.state.showContent ? <Icon name=\"i-BAI-shangjiantou\"/> :\n            <Icon name=\"i-BAI-xiajiantou\"/>;\n\n        return <span className=\"ya-popUp\">\n            { !this.props.selectIcon ? this.input(className) : this.inputWithIcon(className, [\"\",icon])}\n            {this.state.showContent ? <div className={popUpContentClass}>\n                {content}\n            </div> : null}\n            {this.state.showContent ? ReactDOM.createPortal(maskContent, maskTag) : null}\n        </span>\n    };\n\n    //下拉选择框\n    select = (maskTag) => {\n        let isArray = Array.isArray(this.props.dropDownBoxData);\n        if (isArray) {\n            let selectContent = this.props.dropDownBoxData.map((item, key) => {\n                let isObject = typeof item === \"object\";\n                return <div className=\"ya-select-content-item\" key={key}\n                            onClick={this.selectItemClick.bind(this, isObject ? item.id : item, maskTag)}>{isObject ? item.text : item}</div>\n            });\n            return <div className=\"ya-select-content\">\n                {selectContent}\n            </div>;\n        } else {\n            return \"参数应为数组\";\n        }\n    };\n\n    selectItemClick = (item, maskTag, e) => {\n        this.props.onChange(item,e);\n        this.cancel(maskTag, e);\n    }\n\n\n}\n\nexport {Input};"]}